name: Unifi-Professional-Translation

on:
  push:
    branches: [ main ] # GitBook이 파일을 보내는 브랜치 이름과 일치해야 합니다.
  workflow_dispatch: # 필요할 때 수동으로 버튼을 눌러 실행할 수 있습니다.

jobs:
  translate:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: DeepL Translate
        uses: tmsn-tomsun/translation-action@main
        with:
          from: en
          to: ko
          api_key: ${{ secrets.DEEPL_API_KEY }}
          # 전문적인 톤앤매너 및 용어 가이드라인 적용
          formality: formal
          tag_handling: xml
          ignore_tags: code,pre,var,a
          # 팁: 아래 glossary 부분에 고유 명사 규칙을 입력하세요.
          glossary: |
            Unifi Apps,Unifi Apps
            Mini Dapp,Mini Dapp
            Dapp Portal,Dapp Portal
            Liff,Liff
            Blockchain,Blockchain
            Reward,리워드
            Featured,피처드

      - name: Commit & Push Changes
        run: |
          git config --global user.name "Unifi-Translation-Bot"
          git config --global user.email "bot@unifi.network"
          git add .
          git commit -m "docs: 전문 번역 가이드라인 준수하여 한국어 업데이트" || exit 0
          git push
