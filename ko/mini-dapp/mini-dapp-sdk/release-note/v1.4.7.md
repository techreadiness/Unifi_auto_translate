# v1.4.7

## 출시일

2025년 11월 6일 07:00 (UTC)

## 참고

* npm: [https://www.npmjs.com/package/@linenext/dapp-portal-sdk/v/1.4.7](https://www.npmjs.com/package/@linenext/dapp-portal-sdk/v/1.4.7)
* cdn: [https://static.kaiawallet.io/js/dapp-portal-sdk-1.4.7.js](https://static.kaiawallet.io/js/dapp-portal-sdk-1.4.7.js)

#### 개선 사항

* OA 프로모션 3단계 지원

### OA 프로모션 3단계 가이드

<figure><img src="../../../.gitbook/assets/OA Promotion Phase3.png" alt=""><figcaption></figcaption></figure>아래 가이드를 참고하여 추가 개발 및 정보 제출을 진행해 주시기 바랍니다.

**추가 개발**

* 이벤트 제공자 콜백 (`DappPortalSDK.getEventProvider()`)
* Dapp 서버 REST API 구현

**필수 정보 제출**

* API URL (**필수**)
* 커스텀 헤더 (**선택**)

#### DappPortalSDK.getEventProvider()

미니 Dapp 미션 완료 시 이벤트 제공자 콜백

* 본 콜백 메서드는 Dapp Portal 측에서 미션 완료를 검증하고, 검증 성공 시 자동으로 성공 배너를 표시하기 위한 목적입니다.

```javascript
const eventProvider = DappPortalSDK.getEventProvider();

// 미션 완료 시
const eventId: string = &quot;eventId&quot;;          // Dapp Portal에서 제공된 고유 이벤트 ID
const subMissionIndex: string = &quot;1&quot;;        // 하위 미션 인덱스 (0부터 시작)

await eventProvider.callback(eventId, subMissionIndex); // 검증 성공 시 자동으로 배너 표시
```

**매개변수**

<table><thead><tr><th width="164.28125">매개변수</th><th width="82.5703125">유형</th><th>설명</th></tr></thead><tbody><tr><td>eventId</td><td>string</td><td><strong>Dapp </strong>Portal에서 제공하는 고유 식별자</td></tr><tr><td>subMissionIndex</td><td>문자열</td><td>하위 미션의 인덱스. 인덱싱은 0부터 시작합니다.<br>예시<br>:- 이벤트 아이템 구매 미션 -&gt; subMissionIndex = &quot;0&quot;<br>사용- Lv4 달성 미션 -&gt; subMissionIndex = &quot;1&quot; 사용</td></tr></tbody></table>

**응답**

해당 없음

* 검증에 성공하면 배너가 표시됩니다.

#### **Dapp 서버 REST API 구현 가이드** 

Dapp 포털 차트에서 **미션 완료** 기능을 활성화하려면, Dapp 서버는 Dapp 포털이 미션 완료 여부를 검증할 수 있는 API 엔드포인트를 제공해야 합니다.

* **필수 정보**
  * API URL (필수)
  * 커스텀 헤더 (선택)
* **API 개요**
  * 메서드**:** <mark style="color:blue;">`GET`</mark>
  * 스킴**:** `https`
  * 읽기 타임아웃**:** `1초`
    * Dapp 포털 서버가 **1초** 이내에 응답을 받지 못하면 미션은 **실패**로 처리됩니다.
* **사용자 정의 헤더 (선택 사항)**
  * API 호출 시 사용자 정의 헤더를 포함할 수 있습니다.
  * 헤더 키/값 형식에 **제한 사항**은 없습니다.
  * **하나만** 사용할 수 있으며, **선택 사항**입니다.
  * 예) x-dapp-custom-key: gq8g0Ah1MD98
* **URL 형식**
  * 기본 URL**:** Dapp 서버 URL
  * 쿼리 매개변수로 `$identifier`를 반드시 포함해야 합니다.
  * `$identifier`는 Dapp Portal 서버에서 사용자의 지갑 주소(소문자)로 대체될 자리 표시자입니다.
  * 예) https://example.dapp.io/api/mission/1111?param=zzzz&amp;**identifier=$identifier**
* **응답 본문**
  * 콘텐츠 유형**:** JSON
  * Dapp Portal 서버가 성공 응답을 수신하면 사용자가 미션을 완료한 것으로 간주됩니다.
    * 미션 완료
    * ```json
      HTTP/1.1 200 OK
      {
        &quot;result&quot;: true
      }
      ```
    * 미션 실패
    * ```json
      HTTP/1.1 200 OK
      {
        &quot;result&quot;: false
      }
      ```
