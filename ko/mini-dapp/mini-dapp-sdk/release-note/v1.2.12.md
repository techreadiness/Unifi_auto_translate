# v1.2.12

## 출시일

2025년 4월 23일 07:30 (UTC)

## 참고

**미니 Dapp SDK를 이 버전으로 업그레이드할 것을 강력히 권장합니다.**

npm: [https://www.npmjs.com/package/@linenext/dapp-portal-sdk/v/1.2.12](https://www.npmjs.com/package/@linenext/dapp-portal-sdk/v/1.2.12) 

cdn: [https://static.kaiawallet.io/js/dapp-portal-sdk-1.2.12.js](https://static.kaiawallet.io/js/dapp-portal-sdk-1.2.12.js)

#### 포인트 #1

OKX 지갑 연결 시 미니 앱 SDK가 계정 변경을 감지하지 못하는 문제 수정

\[v1.2.12 이전]

OKX 지갑이 연결된 상태에서 사용자가 확장 프로그램 내 계정을 변경할 경우,

* `kaia_accounts()` 또는 `kaia_requestAccounts()` 요청 시 SDK가 이전 계정 반환
* 연결된 지갑이 서명 데이터의 지갑 주소와 달라 사용자가 서명 불가

\[v1.2.12 이후]

OKX 지갑이 연결된 상태에서 사용자가 확장 프로그램 내 계정을 변경할 경우,

* SDK가 `kaia_accounts()` 또는 `kaia_requestAccounts()` 요청 시 후속 계정 반환
* 사용자가 서명 가능

#### 포인트 #2 \[필요한 조치]

`walletProvider.disconnectWallet()` 요청 시 OKX 지갑이 제대로 연결 해제되지 않는 문제 수정

\[v1.2.12 이전]

`walletProvider.disconnectWallet()` 완료를 대기할 방법이 없으므로, `disconnectWallet()` 요청 직후 페이지를 새로 고치면 OKX Wallet 연결이 제대로 해제되지 않음.

\[v1.2.12 이후]

`walletProvider.disconnectWallet()`을 비동기 함수로 변경

```
// ASIS
walletProvider.disconnectWallet();
window.location.reload(); // &lt;- OKX 지갑 연결 해제 실패

// TOBE
await walletProvider.disconnectWallet();
window.location.reload(); // &lt;- OKX 지갑 연결 해제 성공
```

#### 포인트#3 \[필요한 조치]

`walletProvider.disconnectWallet()` 요청 시 발생하는 오류 수정

\[ASIS]

`walletProvider.disconnectWallet()` 요청 후, 지갑 유형을 다시 선택하려면 페이지를 새로 고치거나 walletProvider를 변수에 재할당해야 함.

\[TOBE]

`walletProvider.disconnectWallet()` 요청 후 추가 구현 없이도, 이후 `walletProvider.request({method: &quot;kaia_requestAccounts&quot;})` 요청 시 지갑 유형을 다시 선택할 수 있도록 수정.
